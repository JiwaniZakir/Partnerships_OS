services:
  - type: web
    name: foundry-os-api
    runtime: docker
    dockerfilePath: apps/api/Dockerfile
    dockerContext: .
    plan: free
    region: ohio
    healthCheckPath: /health

    envVars:
      # ── Non-secret (pre-filled) ──────────────────────────────────────────
      - key: NODE_ENV
        value: production
      - key: API_PORT
        value: "3001"
      - key: ALLOWED_DOMAIN
        value: foundryphl.com
      - key: WEB_URL
        value: https://foundry-os-orcin.vercel.app

      # ── Secrets: paste values in Render dashboard after first deploy ─────
      - key: DATABASE_URL
        sync: false
      - key: REDIS_URL
        sync: false
      - key: NEO4J_URI
        sync: false
      - key: NEO4J_USER
        value: neo4j
      - key: NEO4J_PASSWORD
        sync: false
      - key: GOOGLE_CLIENT_ID
        sync: false
      - key: GOOGLE_CLIENT_SECRET
        sync: false
      - key: JWT_PRIVATE_KEY
        sync: false
      - key: JWT_PUBLIC_KEY
        sync: false
      - key: PII_ENCRYPTION_KEY
        sync: false
      - key: ANTHROPIC_API_KEY
        sync: false
      - key: OPENAI_API_KEY
        sync: false

      # ── Optional (leave blank if not using) ─────────────────────────────
      - key: TAVILY_API_KEY
        sync: false
      - key: NOTION_API_KEY
        sync: false
      - key: NOTION_MASTER_DB_ID
        sync: false
      - key: NOTION_INTERACTIONS_DB_ID
        sync: false
      - key: NOTION_ORGS_DB_ID
        sync: false
